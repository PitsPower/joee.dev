import{u as K,e as N,v as Q,b as _,x as z,i as B,y as U,z as Z,A as ee,c as H,B as k,C as te}from"./yeDdLpfO.js";function j(e){return U()?(Z(e),!0):!1}function h(e){return typeof e=="function"?e():K(e)}const W=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ne=Object.prototype.toString,oe=e=>ne.call(e)==="[object Object]",V=()=>+Date.now(),D=()=>{};function Y(e,o){function t(...n){return new Promise((l,r)=>{Promise.resolve(e(()=>o.apply(this,n),{fn:o,thisArg:this,args:n})).then(l).catch(r)})}return t}function le(e,o={}){let t,n,l=D;const r=u=>{clearTimeout(u),l(),l=D};return u=>{const c=h(e),i=h(o.maxWait);return t&&r(t),c<=0||i!==void 0&&i<=0?(n&&(r(n),n=null),Promise.resolve(u())):new Promise((f,m)=>{l=o.rejectOnCancel?m:f,i&&!n&&(n=setTimeout(()=>{t&&r(t),n=null,f(u())},i)),t=setTimeout(()=>{n&&r(n),n=null,f(u())},c)})}}function re(...e){let o=0,t,n=!0,l=D,r,a,u,c,i;!z(e[0])&&typeof e[0]=="object"?{delay:a,trailing:u=!0,leading:c=!0,rejectOnCancel:i=!1}=e[0]:[a,u=!0,c=!0,i=!1]=e;const f=()=>{t&&(clearTimeout(t),t=void 0,l(),l=D)};return d=>{const p=h(a),T=Date.now()-o,F=()=>r=d();return f(),p<=0?(o=Date.now(),F()):(T>p&&(c||!n)?(o=Date.now(),F()):u&&(r=new Promise((A,b)=>{l=i?b:A,t=setTimeout(()=>{o=Date.now(),n=!0,A(F()),f()},Math.max(0,p-T))})),!c&&!t&&(t=setTimeout(()=>n=!0,p)),n=!1,r)}}function ie(e){return ee()}function se(e,o=200,t={}){return Y(le(o,t),e)}function ue(e,o=200,t=!1,n=!0,l=!1){return Y(re(o,t,n,l),e)}function ae(e,o=!0,t){ie()?N(e,t):o?e():Q(e)}function ce(e,o=1e3,t={}){const{immediate:n=!0,immediateCallback:l=!1}=t;let r=null;const a=_(!1);function u(){r&&(clearInterval(r),r=null)}function c(){a.value=!1,u()}function i(){const f=h(o);f<=0||(a.value=!0,l&&e(),u(),r=setInterval(e,f))}if(n&&W&&i(),z(o)||typeof o=="function"){const f=B(o,()=>{a.value&&W&&i()});j(f)}return j(c),{isActive:a,pause:c,resume:i}}function $(e){var o;const t=h(e);return(o=t==null?void 0:t.$el)!=null?o:t}const M=W?window:void 0;function G(...e){let o,t,n,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,n,l]=e,o=M):[o,t,n,l]=e,!o)return D;Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]);const r=[],a=()=>{r.forEach(f=>f()),r.length=0},u=(f,m,d,p)=>(f.addEventListener(m,d,p),()=>f.removeEventListener(m,d,p)),c=B(()=>[$(o),h(l)],([f,m])=>{if(a(),!f)return;const d=oe(m)?{...m}:m;r.push(...t.flatMap(p=>n.map(T=>u(f,p,T,d))))},{immediate:!0,flush:"post"}),i=()=>{c(),a()};return j(i),i}function fe(e,o={}){const{immediate:t=!0,fpsLimit:n=void 0,window:l=M}=o,r=_(!1),a=n?1e3/n:null;let u=0,c=null;function i(d){if(!r.value||!l)return;u||(u=d);const p=d-u;if(a&&p<a){c=l.requestAnimationFrame(i);return}u=d,e({delta:p,timestamp:d}),c=l.requestAnimationFrame(i)}function f(){!r.value&&l&&(r.value=!0,u=0,c=l.requestAnimationFrame(i))}function m(){r.value=!1,c!=null&&l&&(l.cancelAnimationFrame(c),c=null)}return t&&f(),j(m),{isActive:te(r),pause:m,resume:f}}const X=1;function de(e,o={}){const{throttle:t=0,idle:n=200,onStop:l=D,onScroll:r=D,offset:a={left:0,right:0,top:0,bottom:0},eventListenerOptions:u={capture:!1,passive:!0},behavior:c="auto",window:i=M,onError:f=s=>{console.error(s)}}=o,m=_(0),d=_(0),p=H({get(){return m.value},set(s){F(s,void 0)}}),T=H({get(){return d.value},set(s){F(void 0,s)}});function F(s,S){var v,x,L,g;if(!i)return;const y=h(e);if(!y)return;(L=y instanceof Document?i.document.body:y)==null||L.scrollTo({top:(v=h(S))!=null?v:T.value,left:(x=h(s))!=null?x:p.value,behavior:h(c)});const C=((g=y==null?void 0:y.document)==null?void 0:g.documentElement)||(y==null?void 0:y.documentElement)||y;p!=null&&(m.value=C.scrollLeft),T!=null&&(d.value=C.scrollTop)}const A=_(!1),b=k({left:!0,right:!1,top:!0,bottom:!1}),w=k({left:!1,right:!1,top:!1,bottom:!1}),I=s=>{A.value&&(A.value=!1,w.left=!1,w.right=!1,w.top=!1,w.bottom=!1,l(s))},J=se(I,t+n),O=s=>{var S;if(!i)return;const v=((S=s==null?void 0:s.document)==null?void 0:S.documentElement)||(s==null?void 0:s.documentElement)||$(s),{display:x,flexDirection:L}=getComputedStyle(v),g=v.scrollLeft;w.left=g<m.value,w.right=g>m.value;const y=Math.abs(g)<=(a.left||0),C=Math.abs(g)+v.clientWidth>=v.scrollWidth-(a.right||0)-X;x==="flex"&&L==="row-reverse"?(b.left=C,b.right=y):(b.left=y,b.right=C),m.value=g;let E=v.scrollTop;s===i.document&&!E&&(E=i.document.body.scrollTop),w.top=E<d.value,w.bottom=E>d.value;const P=Math.abs(E)<=(a.top||0),q=Math.abs(E)+v.clientHeight>=v.scrollHeight-(a.bottom||0)-X;x==="flex"&&L==="column-reverse"?(b.top=q,b.bottom=P):(b.top=P,b.bottom=q),d.value=E},R=s=>{var S;if(!i)return;const v=(S=s.target.documentElement)!=null?S:s.target;O(v),A.value=!0,J(s),r(s)};return G(e,"scroll",t?ue(R,t,!0,!1):R,u),ae(()=>{try{const s=h(e);if(!s)return;O(s)}catch(s){f(s)}}),G(e,"scrollend",I,u),{x:p,y:T,isScrolling:A,arrivedState:b,directions:w,measure(){const s=h(e);i&&s&&O(s)}}}function pe(e={}){const{controls:o=!1,offset:t=0,immediate:n=!0,interval:l="requestAnimationFrame",callback:r}=e,a=_(V()+t),u=()=>a.value=V()+t,c=r?()=>{u(),r(a.value)}:u,i=l==="requestAnimationFrame"?fe(c,{immediate:n}):ce(c,l,{immediate:n});return o?{timestamp:a,...i}:a}export{de as a,pe as u};
